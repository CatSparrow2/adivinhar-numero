<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon">
  <title>Guess the number</title>
</head>
<body>
  
  <main class="container">
    <h1>Guess the number 0-10</h1>
    <div class="input-box" id="input-box">
      <input type="number" name="" class="userInput" id="userInput">
      <div class="btnBox">
        <button class="btnGuess" id="btnGuess" onclick="guess()">Guess</button>
        <button class="btnRetry" id="btnRetry" onclick="retry()">Retry</button>
      </div>
    </div>
    <p class="result" id="result"></p>
    <p class="numberCorrect" id="numberCorrect"></p>
  </main>
</body>
  <script>
    const results = document.getElementById('result')
const numberCorrect = document.getElementById('numberCorrect')
const userInput = document.getElementById('userInput')
const btnRetry = document.getElementById('btnRetry')

// Configurando efeito de comemoração
const congratEffect = new JSConfetti({
  emojis: ['🌈', '⚡️', '💥', '✨', '💫', '🌸'],
})

let numeroAleatorio; // Declare a variável globalmente

generateNumber()

function generateNumber() {
  numeroAleatorio = Math.floor(Math.random() * 11); // O intervalo é de 0 a 100
  console.log(numeroAleatorio);
  btnRetry.style.visibility = "hidden"
  results.textContent = ""
  numberCorrect.textContent = ""
}

function guess() {
  const userGuess = parseInt(userInput.value); // Converter entrada do usuário para número
  
  if (userGuess === numeroAleatorio) {
    results.textContent = "CONGRATULATIONS, YOU WIN!!!"
    btnRetry.style.visibility = "visible"
    congratEffect.addConfetti()
  } else {
    results.textContent = "Incorrect number '-'"
    userGuess.textContent = ""
  }
}

function retry(params) {
  generateNumber()
}
  </script>
<!-- Comemoration uhuuul -->
<script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>
<script src="assets/scripts/script.js"></script>
</html>
